(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{113:function(e,t,a){e.exports=a(147)},118:function(e,t,a){},119:function(e,t,a){},142:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),i=(a(118),a(26)),o=a(16),u=(a(119),Object(n.createContext)()),s=function(){var e=Object(n.useContext)(u).alerts;return e.length>0&&e.map((function(e){return r.a.createElement("h4",{key:e.id},e.msg)}))},m=function(){return r.a.createElement("div",{style:{margin:"75px"}},r.a.createElement("div",{className:"footer"},r.a.createElement("h6",null,"\xa9 Max Monis ",(new Date).getFullYear())))},d=a(7),f=a(191),p=a(148),E=a(81),v=Object(n.createContext)(),b=function(){var e=Object(n.useContext)(v),t=Object(n.useRef)(""),a=e.filterClients,l=e.clearFilteredClients,c=e.filteredClients;Object(n.useEffect)((function(){c.length||(t.current.value="")}));return r.a.createElement("form",null,r.a.createElement("input",{className:"filter",ref:t,type:"text",placeholder:"Search...",onChange:function(e){""!==t.current.value?a(e.target.value):l()},autoFocus:!0}))},h=a(30),g=a(5),O=a(207);function j(e,t){return e.sort((function(e,a){var n=t?e[t].toUpperCase():e.toUpperCase(),r=t?a[t].toUpperCase():a.toUpperCase();return n<r?-1:n>r?1:0}))}function C(e){return e.toString().replace(/[^\d]/g,"")}function y(e){return e.replace(/[^a-z]/gi,"").toUpperCase()}function k(e){return e.replace(/[^a-z\s]/gi,"").replace(/[\s]+/," ")}var w=function(e){var t=e.reset,a=Object(n.useContext)(v),l=a.addClient,c=a.updateClient,i=a.editingClient,o=i||{name:"",email:"",phone:"",isActive:!0,lifts:["Bench Press","Deadlift","Squat"],workouts:[],records:[]},u=Object(n.useState)(o),s=Object(d.a)(u,2),m=s[0],p=s[1],b=m.name,j=m.email,C=m.phone,y=function(e){var t=e.target,a=t.name,n=t.value;p(Object(g.a)(Object(g.a)({},m),{},Object(h.a)({},a,n)))};return r.a.createElement("div",null,r.a.createElement(E.a,{variant:"h6"},i?"Edit Client":"New Client"),r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),i?c(m):l(m),t()}},r.a.createElement(O.a,{type:"text",placeholder:"Name",name:"name",value:k(b),onChange:y,autoFocus:!0,required:!0}),r.a.createElement(O.a,{type:"text",placeholder:"Email",name:"email",value:j,onChange:y}),r.a.createElement(O.a,{type:"text",placeholder:"Phone",name:"phone",value:C,onChange:y}),r.a.createElement("div",null,r.a.createElement(f.a,{onClick:t},"Cancel"),r.a.createElement(f.a,{color:"primary",type:"submit"},"Save"))))},x=a(12),R=a(198),N=a(190),S=a(100),L=a.n(S),I=a(99),T=a.n(I),_=a(149),A=a(192),D=a(193),U=function(e){var t=e.name,a=e.handleSelect,n=e.handleEdit,l=e.handleDeactivate;return r.a.createElement("div",null,r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:a},t),r.a.createElement(D.a,null,r.a.createElement(_.a,{color:"inherit",onClick:n},r.a.createElement(T.a,{"aria-label":"Edit"})),r.a.createElement(_.a,{color:"inherit",onClick:l},r.a.createElement(L.a,{"aria-label":"Deactivate"})))))},F=a(101),P=a.n(F),G=a(69),W=a.n(G),q=a(209),M=a(197),B=a(195),J=a(196),H=a(194),z=function(e){var t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],l=a[1];return[r,function(e){l(e.target.value)},function(){l("")}]},V=function(e){var t=e.fullName,a=e.toggle,l=e.handleDelete,c=z(""),i=Object(d.a)(c,2),o=i[0],u=i[1],s=Object(n.useState)(!1),m=Object(d.a)(s,2),p=m[0],E=m[1];Object(n.useEffect)((function(){y(o).includes(y(t))?E(!0):E(!1)}),[o]);return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p&&l()}},r.a.createElement(H.a,null,"Permanently delete ",t,"?"),r.a.createElement(B.a,null,r.a.createElement(J.a,null,"All associated data will be lost forever and this action cannot be undone. Confirm the name of the client you wish to delete in order to proceed."),r.a.createElement(O.a,{value:k(o),variant:"outlined",placeholder:"Confirm Name...",onChange:u,autoFocus:!0})),r.a.createElement(M.a,null,r.a.createElement(f.a,{onClick:a},"Cancel"),p?r.a.createElement(f.a,{type:"submit",color:"primary"},"Delete"):r.a.createElement(f.a,{disabled:!0},"Delete")))},Y=function(e){var t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],l=a[1];return[r,function(){l(!r)}]},$=function(e){var t=e.name,a=e.fullName,n=e.handleActivate,l=e.handleDelete,c=Y(!1),i=Object(d.a)(c,2),o=i[0],u=i[1];return r.a.createElement("div",null,r.a.createElement(A.a,null,r.a.createElement(f.a,{disabled:!0},t),r.a.createElement(D.a,null,r.a.createElement(_.a,{onClick:n},r.a.createElement(P.a,{"aria-label":"Recover"})),r.a.createElement(_.a,{onClick:u},r.a.createElement(W.a,{"aria-label":"Delete"})))),r.a.createElement(q.a,{open:o,onClose:u},r.a.createElement(V,{fullName:a,toggle:u,handleDelete:l})))},K=function(e){var t=e.client,a=e.selectClient,l=Object(n.useContext)(v),c=l.deleteClient,i=l.updateClient,o=l.setEditingClient,u=t._id,s=t.name,m=s.length>17?"".concat(s.slice(0,16).trim(),"..."):s;return t.isActive?r.a.createElement(U,{name:m,handleSelect:function(){a(u)},handleEdit:function(){o(t)},handleDeactivate:function(){i(Object(g.a)(Object(g.a)({},t),{},{isActive:!1}))}}):r.a.createElement($,{name:m,fullName:t.name,handleActivate:function(){i(Object(g.a)(Object(g.a)({},t),{},{isActive:!0}))},handleDelete:function(){c(u)}})},Q=function(e){var t=e.clients,a=e.selectClient,l=t.filter((function(e){return e.isActive})),c=t.filter((function(e){return!e.isActive})),i=[].concat(Object(x.a)(j(l,"name")),Object(x.a)(j(c,"name")));return r.a.createElement("div",{className:"scrollable"},r.a.createElement(N.a,null,r.a.createElement(R.a,null),i.map((function(e){return r.a.createElement(n.Fragment,{key:e.name},r.a.createElement(K,{client:e,selectClient:a}),r.a.createElement(R.a,null))}))))},X=a(17),Z=a.n(X),ee=a(31),te=a(21),ae=a.n(te),ne=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],l=t[1],c=function(){var e=Object(ee.a)(Z.a.mark((function e(){var t,a,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(null),e.prev=1,e.next=4,ae.a.get("https://cors-anywhere.herokuapp.com/https://type.fit/api/quotes");case 4:t=e.sent,a=t.data,n=Math.floor(Math.random()*a.length),l(a[n]),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),l({text:"Be the change you want to see in the world",author:"Mohandas Gandhi"});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),a?r.a.createElement("div",{className:"quote",onClick:c},r.a.createElement("h3",null,a.text),r.a.createElement("h4",null,"-",a.author||"Anonymous")):r.a.createElement("div",null,r.a.createElement("h3",null,"Loading quote..."))},re=(a(142),function(){return r.a.createElement("div",{className:"spinner"})}),le=a(187),ce=a(204),ie=function(e){var t=e.lifts,a=e.handleChange,n=e.exercise,l=e.updateRoutine,c=n.lift,i=n.sets,o=n.reps,u=n.weight;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(n)}},r.a.createElement(ce.a,{className:"select",native:!0,id:"lift",value:c,onChange:a,input:r.a.createElement(le.a,null)},t.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})),r.a.createElement("option",{key:"#",value:"#"},"<<< Edit Exercises >>>")),r.a.createElement("div",null,r.a.createElement(O.a,{className:"field",id:"sets",label:"Sets",value:C(i),onChange:a,inputProps:{pattern:"[0-9]*"},InputLabelProps:{shrink:!!i},autoFocus:!0}),r.a.createElement(O.a,{className:"field",id:"reps",label:"Reps",value:C(o),onChange:a,inputProps:{pattern:"[0-9]*"},InputLabelProps:{shrink:!!o}}),r.a.createElement(O.a,{className:"field",id:"weight",label:"Weight",value:C(u),onChange:a,inputProps:{pattern:"[0-9]*"},InputLabelProps:{shrink:!!u},required:!0})),r.a.createElement(f.a,{type:"submit",color:"primary"},"Enter"))},oe=a(52),ue=function(e){var t=e.exercise,a=e.index,n=e.selectExercise,l=t.id,c=t.lift,i=t.printout,o=function(){n(t)};return r.a.createElement("div",null,r.a.createElement(oe.b,{draggableId:l,index:a},(function(e){return r.a.createElement("li",Object.assign({className:"exercise",ref:e.innerRef},e.draggableProps,e.dragHandleProps,{onClick:o}),c,": ",i)})))},se=function(e){var t=e.routine,a=e.selectExercise;return r.a.createElement("div",null,r.a.createElement(oe.c,{droppableId:"ExerciseList"},(function(e){return r.a.createElement("ul",Object.assign({ref:e.innerRef},e.droppableProps),t.map((function(e,t){return r.a.createElement(ue,{key:e.id,exercise:e,index:t,selectExercise:a})})),e.placeholder)})))},me=function(e){var t=e.routine,a=e.updateRoutine,n=e.selectExercise;return r.a.createElement("div",{className:"move-left"},r.a.createElement(oe.a,{onDragEnd:function(e){var n=e.destination,r=e.source,l=e.draggableId;if(n&&n.index!==r.index){var c=t.map((function(e){return e.id}));c.splice(r.index,1),c.splice(n.index,0,l),a(c)}}},r.a.createElement(se,{routine:t,selectExercise:n})))},de=a(28),fe=function(e){for(var t=e.workouts,a=e.lift,n=e.setExercise,l=[],c=t.length-1;c>=0;c--){var i,o=Object(de.a)(t[c].routine);try{var u=function(){var e=i.value;e.lift!==a||l.some((function(t){return t.printout===e.printout}))||l.push(e)};for(o.s();!(i=o.n()).done;)u()}catch(s){o.e(s)}finally{o.f()}}return r.a.createElement("div",{className:"exercise-history"},l.length?r.a.createElement("div",null,l.map((function(e){return r.a.createElement(f.a,{style:{textTransform:"lowercase"},key:e.id,color:"primary",onClick:function(){return n(e)}},e.printout)}))):r.a.createElement("h5",null,"No ",a," stats for this client"))},pe=function(e){var t=e.name,a=e.date,n=e.handleChange,l=e.handleSave,c=e.toggle;return r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),l()}},r.a.createElement(O.a,{id:"date",label:"Workout Date",type:"date",value:a,onChange:n,InputLabelProps:{shrink:!0}}),r.a.createElement(O.a,{id:"name",label:"Workout Name",value:k(t),onChange:n,InputLabelProps:{shrink:!!t},autoFocus:!0,required:!0}),r.a.createElement("div",null,r.a.createElement(f.a,{onClick:c},"Cancel"),r.a.createElement(f.a,{color:"primary",type:"submit"},"Save")))},Ee=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],a=0;a<e.length;a++){var n=e[a],r=n.id,l=n.lift,c=n.printout;if(0===a||l!==e[a-1].lift){var i={id:r,lift:l,printout:c};t.push(i)}else{var o=t.pop();o.id+="-".concat(r),o.printout+=", ".concat(c),t.push(o)}}return t},ve=function(e){var t=e.exercise,a=e.workout,n=e.lifts,l=e.routine,c=e.handleChange,i=e.saveWorkout,o=e.updateRoutine,u=e.selectExercise,s=e.workouts,m=e.lift,E=e.setExercise,v=Y(!1),b=Object(d.a)(v,2),h=b[0],g=b[1];return h?r.a.createElement("div",null,r.a.createElement(p.a,{className:"paper"},r.a.createElement(pe,Object.assign({},a,{handleChange:c,handleSave:function(){i(),g()},toggle:g}))),Ee(l).map((function(e){return r.a.createElement("h2",{key:e.id},e.lift,": ",e.printout)}))):r.a.createElement("div",null,r.a.createElement(p.a,{className:"paper flex-row"},r.a.createElement(ie,{lifts:n,handleChange:c,exercise:t,updateRoutine:o}),r.a.createElement(fe,{workouts:s,lift:m,setExercise:E})),l.length?r.a.createElement("div",null,r.a.createElement(me,{routine:l,updateRoutine:o,selectExercise:u}),r.a.createElement(f.a,{variant:"outlined",color:"inherit",onClick:g},"Save Workout")):r.a.createElement(ne,null))},be=a(206),he=a(208),ge=a(199),Oe=a(189),je=a(200),Ce=function(e){var t=e.records,a=e.selected,l=Y(!1),c=Object(d.a)(l,2),i=c[0],o=c[1],u=t.filter((function(e){return e.surpassed})),s=t.filter((function(e){return!e.surpassed})),m=i?u:s;return Object(n.useEffect)((function(){!u.length&&i&&o()}),[t]),r.a.createElement("div",null,r.a.createElement("div",{className:"scrollable small"},m.map((function(e,t){return r.a.createElement("div",{key:e.id},r.a.createElement("ul",null,r.a.createElement("li",{key:e.id,className:"record move-left"},e.becameRecord,e.surpassed&&" - ".concat(e.surpassed),r.a.createElement("br",null),"#"===a&&"".concat(e.lift,": "),e.printout)),t<m.length-1&&r.a.createElement(R.a,null))}))),u.length>0&&r.a.createElement("div",null,r.a.createElement(R.a,null),r.a.createElement(ge.a,{control:r.a.createElement(je.a,{checked:i,onChange:o,color:"primary"}),label:"Broken Records"})))},ye=function(e){var t=e.records,a=Object(n.useState)("#"),l=Object(d.a)(a,2),c=l[0],i=l[1],o="#"!==c?t.filter((function(e){return e.lift===c})):t,u=j(Object(x.a)(new Set(Object(x.a)(t.map((function(e){return e.lift}))))));return r.a.createElement(p.a,{className:"paper"},r.a.createElement(ce.a,{native:!0,className:"select",labelId:"selected",value:c,onChange:function(e){i(e.target.value)},input:r.a.createElement(le.a,{id:"selected"})},r.a.createElement("option",{key:"#",value:"#"},"All Records"),u.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(Ce,{records:o,selected:c}))},ke=function(e){var t=e.workouts,a=e.updateWorkouts,l=Object(n.useState)("#"),c=Object(d.a)(l,2),i=c[0],o=c[1],u=Object(n.useState)(null),s=Object(d.a)(u,2),m=s[0],f=s[1],E="#"!==i?t.filter((function(e){return e.name===i})):t,v=j(Object(x.a)(new Set(Object(x.a)(t.map((function(e){return e.name})))))),b=function(e){var t=e.target.value;f(m===t?null:t)},h=function(){return a(m)};return r.a.createElement(p.a,{className:"paper"},r.a.createElement(ce.a,{native:!0,className:"select",labelId:"selected",value:i,onChange:function(e){o(e.target.value)},input:r.a.createElement(le.a,{id:"selected"})},r.a.createElement("option",{key:"#",value:"#"},"All Workouts"),v.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:"scrollable"},E.map((function(e,t){var a=e.id,n=e.name,l=e.fullDate,c=e.routine;return r.a.createElement("div",{key:a},r.a.createElement("button",{className:"button",value:a,onClick:b},l.slice(0,-3),r.a.createElement("br",null),"#"===i&&n),r.a.createElement("div",null,m===a&&r.a.createElement(_.a,{onClick:h},r.a.createElement(W.a,{"aria-label":"Delete"}))),r.a.createElement("ul",null,Ee(c).map((function(e){return r.a.createElement("li",{className:"move-left",key:e.id},"".concat(e.lift,": ").concat(e.printout))}))),t<E.length-1&&r.a.createElement(R.a,null))}))))},we=function(e){var t=e.workouts,a=e.records,l=e.updateWorkouts,c=Object(n.useState)("workouts"),i=Object(d.a)(c,2),o=i[0],u=i[1];return r.a.createElement("div",null,"workouts"===o?r.a.createElement(ke,{workouts:Object(x.a)(t).reverse(),updateWorkouts:l}):r.a.createElement(ye,{records:Object(x.a)(a).reverse()}),r.a.createElement(Oe.a,{component:"fieldset"},r.a.createElement(he.a,{row:!0,"aria-label":"display",name:"display",value:o,onChange:function(e){u(e.target.value)}},r.a.createElement(ge.a,{value:"workouts",control:r.a.createElement(be.a,null),label:"workouts"}),r.a.createElement(ge.a,{value:"records",control:r.a.createElement(be.a,null),label:"records"}))))},xe=a(201),Re=function(e){var t=e.updateLifts,a=z(""),n=Object(d.a)(a,3),l=n[0],c=n[1],i=n[2];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l&&t(l.trim()),i()}},r.a.createElement(O.a,{value:k(l),onChange:c,margin:"normal",label:"Add New Exercise",fullWidth:!0,autoFocus:!0}))},Ne=function(e){var t=e.lift,a=e.toggle,n=e.updateLifts,l=z(t),c=Object(d.a)(l,3),i=c[0],o=c[1],u=c[2];return r.a.createElement("form",{className:"lift-form",onSubmit:function(e){e.preventDefault(),n(i.trim(),t),u(),a()}},r.a.createElement(O.a,{margin:"normal",value:k(i),onChange:o,fullWidth:!0,autoFocus:!0}))},Se=function(e){var t=e.lift,a=e.updateLifts,n=Y(!1),l=Object(d.a)(n,2),c=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement(A.a,{style:{padding:0},component:"div"},c?r.a.createElement(Ne,{lift:t,toggle:i,updateLifts:a}):r.a.createElement(A.a,{"aria-label":"Edit ".concat(t),onClick:i},t)))},Le=function(e){var t=e.lifts,a=e.updateLifts;return r.a.createElement(p.a,null,r.a.createElement(N.a,null,t.map((function(e,l){return r.a.createElement(n.Fragment,{key:e},r.a.createElement(Se,{lift:e,updateLifts:a}),l<t.length-1&&r.a.createElement(R.a,null))}))))},Ie=function(e){var t=e.lifts,a=e.updateLifts,n=e.toggle;return r.a.createElement(p.a,{className:"paper"},r.a.createElement(xe.a,{container:!0,justify:"center"},r.a.createElement(xe.a,{item:!0,xs:!0},r.a.createElement(Re,{updateLifts:a}),r.a.createElement(Le,{lifts:t,updateLifts:a}))),r.a.createElement(f.a,{onClick:n,color:"primary"},"Finished Editing"))},Te=a(51),_e=a.n(Te);function Ae(e){return parseInt(e)||1}var De=function(e){var t=_e()(),a=e.lift,n=Ae(e.sets),r=Ae(e.reps),l=Ae(e.weight);return{id:t,lift:a,sets:n,reps:r,weight:l,printout:n>1?"".concat(n,"(").concat(r,"x").concat(l,")"):r>1?"".concat(r,"x").concat(l):"".concat(l)}},Ue=function(e){for(var t=e.length?[e[0]]:[],a=1;a<e.length;a++){var n=e[a],r=e[a-1],l=n.lift,c=n.sets,i=n.reps,o=n.weight;if(l===r.lift&&i===r.reps&&o===r.weight){var u=De(Object(g.a)(Object(g.a)({},n),{},{sets:c+r.sets}));t.splice(-1,1,u)}else t.push(n)}return t},Fe=function(e,t,a,n){var r=a.lifts,l=a.workouts,c=a.records;if(!e&&t&&r.length>1)return r.filter((function(e){return e!==t}));if(e&&!r.includes(e))return t?function(e){var a,i=function(a){return a.map((function(a){return a.lift===t?Object(g.a)(Object(g.a)({},a),{},{lift:e}):a}))},o=[],u=Object(de.a)(l);try{for(u.s();!(a=u.n()).done;){var s=a.value;o.push(Object(g.a)(Object(g.a)({},s),{},{routine:i(s.routine)}))}}catch(m){u.e(m)}finally{u.f()}return{lifts:j(r.map((function(a){return a===t?e:a}))),workouts:o,records:i(c),routine:i(n)}}(e):j([].concat(Object(x.a)(r),[e]))};var Pe=function(e,t){return"string"===typeof e?t.filter((function(t){return t.id!==e})):e.lift?[].concat(Object(x.a)(t),[De(e)]):function(e,t){var a,n=[],r=Object(de.a)(e);try{for(r.s();!(a=r.n()).done;){var l,c=a.value,i=Object(de.a)(t);try{for(i.s();!(l=i.n()).done;){var o=l.value;if(o.id===c){n.push(o);break}}}catch(u){i.e(u)}finally{i.f()}}}catch(u){r.e(u)}finally{r.f()}return n}(e,t)},Ge=function(e,t){var a,n=e.lift,r=e.sets,l=e.reps,c=e.weight,i=Object(de.a)(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.lift===n&&o.sets>=r&&o.reps>=l&&o.weight>=c)return!1}}catch(u){i.e(u)}finally{i.f()}return!0},We=function(e,t){var a,n=Object(x.a)(t),r=[],l=e.routine,c=e.fullDate.split(" ")[1],i=Object(de.a)(l);try{for(i.s();!(a=i.n()).done;){var o=a.value,u=Object(g.a)({},o);if(Ge(u,n)){u.becameRecord=c;var s,m=u.lift,d=u.sets,f=u.reps,p=u.weight,E=Object(de.a)(n);try{for(E.s();!(s=E.n()).done;){var v=s.value;!v.surpassed&&m===v.lift&&d>=v.sets&&f>=v.reps&&p>=v.weight&&(v.surpassed=c)}}catch(b){E.e(b)}finally{E.f()}}r.push(u),u.becameRecord&&n.push(Object(g.a)(Object(g.a)({},u),{},{id:u.id.split("").reverse().join("")}))}}catch(b){i.e(b)}finally{i.f()}return{workout:Object(g.a)(Object(g.a)({},e),{},{routine:l}),records:n}};function qe(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date("".concat(e.replace(/-/g,"/"))).getDay()],a=e.slice(2,4),n=parseInt(e.slice(5,7)),r=parseInt(e.slice(8));return"".concat(t," ").concat(n,"/").concat(r,"/").concat(a)}var Me=function(e,t){return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t.length)return{workouts:[],records:[]};var r=We(t[0],n),l=r.workout,c=r.records;return t.length>1?e(t.slice(1),[].concat(Object(x.a)(a),[l]),c):{workouts:[].concat(Object(x.a)(a),[l]),records:c}}("string"===typeof e?t.filter((function(t){return t.id!==e})):[].concat(Object(x.a)(t),[Object(g.a)(Object(g.a)({},e),{},{id:_e()(),fullDate:qe(e.date)})]).sort((function(e,t){return parseInt(e.date.replace(/-/g,""))-parseInt(t.date.replace(/-/g,""))})))},Be=function(e){var t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],l=a[1],c=JSON.parse(window.localStorage.getItem(r._id))||[],i=Object(n.useState)(c),o=Object(d.a)(i,2),u=o[0],s=o[1],m=function(e){window.localStorage.setItem(r._id,JSON.stringify(e)),s(e)};return{client:r,routine:u,updateRoutine:function(e){return m(Ue(Pe(e,u)))},updateLifts:function(e,t){var a=Fe(e,t,r,u);if(a)if(a.length)l(Object(g.a)(Object(g.a)({},r),{},{lifts:a}));else{m(a.routine);var n=a.lifts,c=a.workouts,i=a.records;l(Object(g.a)(Object(g.a)({},r),{},{lifts:n,workouts:c,records:i}))}},updateWorkouts:function(e){var t=Me(e,r.workouts),a=t.workouts,n=t.records;l(Object(g.a)(Object(g.a)({},r),{},{workouts:a,records:n}))}}},Je=function(e){var t=e.selectedClient,a=e.updateClient,l=Be(t),c=l.client,i=l.routine,o=l.updateRoutine,u=l.updateLifts,s=l.updateWorkouts,m=c.lifts,f=c.workouts,p=c.records,v={lift:m[0],sets:"",reps:"",weight:""},b=Object(n.useState)(v),O=Object(d.a)(b,2),j=O[0],C=O[1],y={name:"",date:(new Date).toISOString().slice(0,10)},k=Object(n.useState)(y),w=Object(d.a)(k,2),x=w[0],R=w[1],N=Y(!1),S=Object(d.a)(N,2),L=S[0],I=S[1];return Object(n.useEffect)((function(){a(c)}),[c]),r.a.createElement("div",null,r.a.createElement(E.a,{variant:"h3"},c.name),r.a.createElement("div",null,L?r.a.createElement(Ie,{lifts:m,updateLifts:u,toggle:I}):r.a.createElement("div",{className:f.length?"container":""},r.a.createElement("div",{className:f.length?"item left":""},r.a.createElement(ve,{exercise:j,workout:x,lifts:m,routine:i,handleChange:function(e){var t=e.target,a=t.id,n=t.value;"name"===a||"date"===a?R(Object(g.a)(Object(g.a)({},x),{},Object(h.a)({},a,n))):"#"===n?I():C(Object(g.a)(Object(g.a)({},j),{},Object(h.a)({},a,n)))},saveWorkout:function(){s(Object(g.a)(Object(g.a)({},x),{},{routine:i})),R(y),o([])},updateRoutine:o,selectExercise:function(e){C(e),o(e.id)},workouts:f,lift:j.lift,setExercise:C})),f.length>0&&r.a.createElement("div",{className:f.length?"item right":""},r.a.createElement(we,{workouts:f,records:p,updateWorkouts:s})))))},He=function(e){var t=Object(n.useContext)(v),a=t.clients,l=t.updateClient,c=t.editingClient,i=t.filteredClients,u=t.clearEditingClient,s=t.clearFilteredClients,m=t.loading,h=Object(n.useState)(!1),g=Object(d.a)(h,2),O=g[0],j=g[1],C=function(){return j(!0)},y=function(){j(!1),u(),s()};Object(n.useEffect)((function(){c?C():y()}),[c]),Object(n.useEffect)((function(){y()}),[a]);var k=e.match.params.id,x=a.find((function(e){return e._id===k}));return m?r.a.createElement(re,null):x?r.a.createElement(Je,{selectedClient:x,updateClient:l}):k?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(E.a,{variant:"h3"},"Clients"),r.a.createElement(p.a,{className:"paper"},O||0===a.length?r.a.createElement(w,{reset:y}):r.a.createElement(n.Fragment,null,a.length>1&&r.a.createElement(b,null),r.a.createElement(Q,{clients:i.length?i:a,selectClient:function(t){e.history.push("".concat(t))}}),r.a.createElement(f.a,{color:"primary",onClick:C},"Add New Client"))),r.a.createElement(ne,null))},ze=Object(n.createContext)(),Ve=function(e){var t=Object(n.useContext)(u),a=Object(n.useContext)(ze),l=t.setAlert,c=a.logUserIn,o=a.error,s=a.clearErrors,m=a.isAuthenticated,v=a.loading;Object(n.useEffect)((function(){m&&e.history.push("/"),"Invalid Credentials"===o&&(l(o),s())}),[o,m,e.history]);var b=Object(n.useState)({email:"",password:""}),O=Object(d.a)(b,2),j=O[0],C=O[1],y=j.email,k=j.password,w=function(e){C(Object(g.a)(Object(g.a)({},j),{},Object(h.a)({},e.target.name,e.target.value)))};return v?r.a.createElement(re,null):r.a.createElement("div",null,r.a.createElement(E.a,{variant:"h3"},"Login"),r.a.createElement(p.a,{className:"paper"},r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),y&&k?c({email:y,password:k}):l("Please fill in all fields")}},r.a.createElement("div",null,r.a.createElement(le.a,{type:"email",name:"email",value:y,placeholder:"Email",onChange:w,required:!0,autoFocus:!0}),r.a.createElement(le.a,{type:"password",name:"password",value:k,placeholder:"Password",onChange:w,required:!0})),r.a.createElement(f.a,{type:"submit",color:"primary"},"Sign In"))),r.a.createElement("h3",null,"Need an account?"),r.a.createElement(i.b,{className:"link",to:"register"},"Get started"))},Ye=a(202),$e=a(203),Ke=function(){var e=Object(n.useContext)(ze),t=Object(n.useContext)(v),a=e.isAuthenticated,l=e.logUserOut,c=e.loadUser,o=e.user,u=t.getClients,s=t.clearClients;Object(n.useEffect)((function(){c()}),[]),Object(n.useEffect)((function(){o?u():s()}),[o]);var m=r.a.createElement(n.Fragment,null,r.a.createElement(f.a,{onClick:l,color:"inherit"},"Logout"),r.a.createElement(i.b,{to:"/",className:"link"},r.a.createElement(f.a,{color:"inherit"},"Clients"))),d=r.a.createElement(n.Fragment,null,r.a.createElement(i.b,{to:"login",className:"link"},r.a.createElement(f.a,{color:"inherit"},"Login")),r.a.createElement(i.b,{to:"register",className:"link"},r.a.createElement(f.a,{color:"inherit"},"Register")));return r.a.createElement(n.Fragment,null,r.a.createElement(Ye.a,{position:"static"},r.a.createElement($e.a,null,a?m:d)),r.a.createElement(E.a,{variant:"h2"},"workoutApp"))},Qe=a(103),Xe=function(e){var t=e.component,a=Object(Qe.a)(e,["component"]),l=Object(n.useContext)(ze),c=l.isAuthenticated,i=l.loading;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return c||i?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))},Ze=function(e){var t=Object(n.useContext)(u),a=Object(n.useContext)(ze),l=t.setAlert,c=a.registerUser,o=a.error,s=a.clearErrors,m=a.isAuthenticated,v=a.loading;Object(n.useEffect)((function(){m&&e.history.push("/"),"User already exists"===o&&(l(o),s())}),[o,m,e.history]);var b=Object(n.useState)({name:"",email:"",password:"",password2:""}),O=Object(d.a)(b,2),j=O[0],C=O[1],y=j.name,k=j.email,w=j.password,x=j.password2,R=function(e){C(Object(g.a)(Object(g.a)({},j),{},Object(h.a)({},e.target.name,e.target.value)))};return v?r.a.createElement(re,null):r.a.createElement("div",null,r.a.createElement(E.a,{variant:"h3"},"Register"),r.a.createElement(p.a,{className:"paper"},r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),y&&k&&w?w!==x?l("Passwords must match"):w.length<6?l("Password must have at least 6 characters"):c({name:y,email:k,password:w}):l("Please fill out all fields")}},r.a.createElement("div",null,r.a.createElement(le.a,{type:"text",name:"name",value:y,placeholder:"Username",onChange:R,required:!0,autoFocus:!0}),r.a.createElement(le.a,{type:"email",name:"email",value:k,placeholder:"Email",onChange:R,required:!0}),r.a.createElement(le.a,{type:"password",name:"password",value:w,placeholder:"Password",onChange:R,required:!0,minLength:"6"}),r.a.createElement(le.a,{type:"password",name:"password2",value:x,placeholder:"Confirm Password",onChange:R,required:!0})),r.a.createElement(f.a,{type:"submit",color:"primary"},"Create Account"))),r.a.createElement("h3",null,"Already a member?"),r.a.createElement(i.b,{className:"link",to:"login"},"Sign in"))},et=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(x.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},tt=function(e){var t=Object(n.useReducer)(et,[]),a=Object(d.a)(t,2),l=a[0],c=a[1];return r.a.createElement(u.Provider,{value:{alerts:l,setAlert:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,n=_e()();c({type:"SET_ALERT",payload:{msg:e,type:t,id:n}}),setTimeout((function(){return c({type:"REMOVE_ALERT",payload:n})}),a)}}},e.children)},at=function(e,t){var a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(g.a)(Object(g.a)({},e),{},{isAuthenticated:!0,loading:!1,user:n});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",n.token),Object(g.a)(Object(g.a)(Object(g.a)({},e),n),{},{isAuthenticated:!0,loading:!1});case"AUTH_ERROR":case"LOG_USER_OUT":case"LOGIN_FAILURE":case"REGISTER_FAILURE":return localStorage.removeItem("token"),Object(g.a)(Object(g.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:n});case"CLEAR_ERRORS":return Object(g.a)(Object(g.a)({},e),{},{error:null});default:return e}},nt=function(e){e?ae.a.defaults.headers.common["x-auth-token"]=e:delete ae.a.defaults.common["x-auth-token"]},rt=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,error:null},a=Object(n.useReducer)(at,t),l=Object(d.a)(a,2),c=l[0],i=l[1],o=c.token,u=c.isAuthenticated,s=c.loading,m=c.user,f=c.error,p=function(){var e=Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&nt(localStorage.token),e.prev=1,e.next=4,ae.a.get("/api/auth");case 4:t=e.sent,i({type:"USER_LOADED",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(ee.a)(Z.a.mark((function e(t){var a,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ae.a.post("/api/users",t,a);case 4:n=e.sent,i({type:"REGISTER_SUCCESS",payload:n.data}),p(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:"REGISTER_FAILURE",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(ee.a)(Z.a.mark((function e(t){var a,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ae.a.post("/api/auth",t,a);case 4:n=e.sent,i({type:"LOGIN_SUCCESS",payload:n.data}),p(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:"LOGIN_FAILURE",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(ze.Provider,{value:{token:o,isAuthenticated:u,loading:s,user:m,error:f,loadUser:p,registerUser:E,logUserIn:v,logUserOut:function(){i({type:"LOG_USER_OUT"})},clearErrors:function(){return i({type:"CLEAR_ERRORS"})}}},e.children)},lt=function(e,t){var a=t.type,n=t.payload;switch(a){case"GET_CLIENTS":return Object(g.a)(Object(g.a)({},e),{},{clients:n,loading:!1});case"ADD_CLIENT":return Object(g.a)(Object(g.a)({},e),{},{clients:[].concat(Object(x.a)(e.clients),[n]),loading:!1});case"UPDATE_CLIENT":return Object(g.a)(Object(g.a)({},e),{},{clients:e.clients.map((function(e){return e._id===n._id?n:e})),loading:!1});case"DELETE_CLIENT":return Object(g.a)(Object(g.a)({},e),{},{clients:e.clients.filter((function(e){return e._id!==n})),loading:!1});case"CLEAR_CLIENTS":return Object(g.a)(Object(g.a)({},e),{},{clients:[],filteredClients:[],error:null});case"SET_EDITING_CLIENT":return Object(g.a)(Object(g.a)({},e),{},{editingClient:n});case"CLEAR_EDITING_CLIENT":return Object(g.a)(Object(g.a)({},e),{},{editingClient:null});case"FILTER_CLIENTS":return Object(g.a)(Object(g.a)({},e),{},{filteredClients:e.clients.filter((function(e){var t=new RegExp("".concat(n),"gi"),a=e.name.replace(/ /g,""),r=e.email.replace(/@.*$/,"");return a.match(t)||r.match(t)}))});case"CLEAR_FILTERED_CLIENTS":return Object(g.a)(Object(g.a)({},e),{},{filteredClients:[]});case"CLIENT_ERROR":return Object(g.a)(Object(g.a)({},e),{},{error:n});default:return e}},ct=function(e){var t=Object(n.useReducer)(lt,{clients:[],editingClient:null,filteredClients:[],loading:!0,error:null}),a=Object(d.a)(t,2),l=a[0],c=a[1],i=l.clients,o=l.editingClient,u=l.filteredClients,s=l.loading,m=l.error,f=function(){var e=Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.a.get("/api/clients");case 3:t=e.sent,c({type:"GET_CLIENTS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:"CLIENT_ERROR",payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(ee.a)(Z.a.mark((function e(t){var a,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={headers:{"Content-Type":"application/json"}},!i.some((function(e){return y(e.name)===y(t.name)}))){e.next=5;break}c({type:"CLIENT_ERROR",payload:"".concat(t.name," already exists")}),e.next=15;break;case 5:return e.prev=5,e.next=8,ae.a.post("/api/clients",t,a);case 8:n=e.sent,c({type:"ADD_CLIENT",payload:n.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),c({type:"CLIENT_ERROR",payload:e.t0.response.msg});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(ee.a)(Z.a.mark((function e(t){var a,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={headers:{"Content-Type":"application/json"}},!i.some((function(e){return y(e.name)===y(t.name)&&e._id!==t._id}))){e.next=5;break}c({type:"CLIENT_ERROR",payload:"".concat(t.name," already exists")}),e.next=15;break;case 5:return e.prev=5,e.next=8,ae.a.put("/api/clients/".concat(t._id),t,a);case 8:n=e.sent,c({type:"UPDATE_CLIENT",payload:n.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),c({type:"CLIENT_ERROR",payload:e.t0.response.msg});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(ee.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.a.delete("/api/clients/".concat(t));case 3:c({type:"DELETE_CLIENT",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c({type:"CLIENT_ERROR",payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(v.Provider,{value:{clients:i,editingClient:o,filteredClients:u,loading:s,error:m,getClients:f,addClient:p,deleteClient:b,updateClient:E,clearClients:function(){c({type:"CLEAR_CLIENTS"})},setEditingClient:function(e){c({type:"SET_EDITING_CLIENT",payload:e})},clearEditingClient:function(){c({type:"CLEAR_EDITING_CLIENT"})},filterClients:function(e){c({type:"FILTER_CLIENTS",payload:e})},clearFilteredClients:function(){c({type:"CLEAR_FILTERED_CLIENTS"})}}},e.children)},it=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(tt,null,r.a.createElement(i.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(Ke,null),r.a.createElement(s,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/login",component:Ve}),r.a.createElement(o.b,{exact:!0,path:"/register",component:Ze}),r.a.createElement(Xe,{path:"/:id",component:He}),r.a.createElement(Xe,{component:He}))))))),r.a.createElement(m,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(it,null)),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.ef6e8d7f.chunk.js.map